<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>漏洞分类 | 网络安全</title><meta name="author" content="Myperfer"><meta name="copyright" content="Myperfer"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="暴力破解漏洞 通过系统地组合所有可能性（例如登录时用到的账户名、密码），尝试所有的可能性破解用户的账户名、密码等敏感信息，经常是使用自动化脚本组合出正确的用户名和密码。简单理解： 连续性尝试 + 字典 + 自动化  流程 确认登录接口的脆弱性 比如:尝试登录–抓包–观察验证元素和response信息   对字典进行优化 根据注册提示信息进行优化 管理员   工具自动化操作  XSS跨站脚本介绍 跨">
<meta property="og:type" content="article">
<meta property="og:title" content="漏洞分类">
<meta property="og:url" content="https://myprefer.github.io/post/%E6%BC%8F%E6%B4%9E%E5%88%86%E7%B1%BB.html">
<meta property="og:site_name" content="网络安全">
<meta property="og:description" content="暴力破解漏洞 通过系统地组合所有可能性（例如登录时用到的账户名、密码），尝试所有的可能性破解用户的账户名、密码等敏感信息，经常是使用自动化脚本组合出正确的用户名和密码。简单理解： 连续性尝试 + 字典 + 自动化  流程 确认登录接口的脆弱性 比如:尝试登录–抓包–观察验证元素和response信息   对字典进行优化 根据注册提示信息进行优化 管理员   工具自动化操作  XSS跨站脚本介绍 跨">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://myprefer.github.io/img/butterfly-icon.png">
<meta property="article:published_time" content="2024-02-14T08:23:14.000Z">
<meta property="article:modified_time" content="2024-03-03T08:48:32.114Z">
<meta property="article:author" content="Myperfer">
<meta property="article:tag" content="网络安全">
<meta property="article:tag" content="学习日志">
<meta property="article:tag" content="WEB攻防">
<meta property="article:tag" content="漏洞分类">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://myprefer.github.io/img/butterfly-icon.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://myprefer.github.io/post/%E6%BC%8F%E6%B4%9E%E5%88%86%E7%B1%BB.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: undefined,
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '漏洞分类',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  isShuoshuo: false
}</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="网络安全" type="application/atom+xml">
</head><body><div id="loading-box"><div class="triangles-wrap"><div class="triangles-eiz"></div><div class="triangles-seiz"></div><div class="triangles-sei"></div><div class="triangles-fei"></div><div class="triangles-feir"></div><div class="triangles-trei"></div><div class="triangles-dvai"></div><div class="triangles-ein"></div><div class="triangles-zero"></div></div></div><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">Loading...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load', preloader.endLoading)

  if (false) {
    btf.addGlobalFn('pjaxSend', preloader.initLoading, 'preloader_init')
    btf.addGlobalFn('pjaxComplete', preloader.endLoading, 'preloader_end')
  }
})()</script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">网络安全</span></a><a class="nav-page-title" href="/"><span class="site-name">漏洞分类</span></a></span><div id="menus"></div></nav><div id="post-info"><h1 class="post-title">漏洞分类</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2024-02-14T08:23:14.000Z" title="Created 2024-02-14 16:23:14">2024-02-14</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2024-03-03T08:48:32.114Z" title="Updated 2024-03-03 16:48:32">2024-03-03</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h2 id="暴力破解漏洞"><a href="#暴力破解漏洞" class="headerlink" title="暴力破解漏洞"></a>暴力破解漏洞</h2><ul>
<li>通过系统地组合<strong>所有</strong>可能性（例如登录时用到的账户名、密码），尝试所有的可能性破解用户的账户名、密码等敏感信息，经常是使用<strong>自动化</strong>脚本组合出正确的用户名和密码。<br><strong>简单理解：</strong> 连续性尝试 + 字典 + 自动化</li>
</ul>
<h5 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h5><ul>
<li>确认登录接口的脆弱性<ul>
<li>比如:尝试登录–抓包–观察验证元素和response信息</li>
</ul>
</li>
<li>对字典进行优化<ul>
<li>根据注册提示信息进行优化</li>
<li>管理员</li>
</ul>
</li>
<li>工具自动化操作</li>
</ul>
<h2 id="XSS跨站脚本"><a href="#XSS跨站脚本" class="headerlink" title="XSS跨站脚本"></a>XSS跨站脚本</h2><h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><ul>
<li><p>跨站脚本，英文全称：Cross-Site Scripting</p>
</li>
<li><p>通过输入可以被解析的特殊字符串, 如</p>
<pre><code class="html">&lt;/p&gt;&lt;script&gt;alert(&#39;this is an alart&#39;);&lt;/script&gt;&lt;p&gt;
</code></pre>
<p>其中script标签内的代码会被执行</p>
</li>
<li><p>分类: 反射型XSS, 储存型XSS, DOM型XSS</p>
<ul>
<li><p>反射型XSS</p>
<ul>
<li><p>执行流程:</p>
<blockquote>
<p>1、在输入点输入内容，构造恶意代码，输入点是以GET方式提交的，我们可以在URL中看到输入的内容<br>2、后端接收提交的数据，并没有对输入进行过滤<br>3、然后就将其呈现给了前端，浏览器执行了恶意代码</p>
</blockquote>
</li>
</ul>
</li>
<li><p>存储型XSS</p>
<ul>
<li><p>存储型XSS和反射型XSS区别就在于，存储型XSS是将恶意构造的代码存储在了数据库</p>
</li>
<li><p>执行流程:</p>
<blockquote>
<p>1、在留言板处输入内容，构造恶意代码<br>2、将输入的内容，提交给后端代码执行，后端对输入过滤不严格，然后执行插入(insert)数据库操作<br>3、此时，我们的恶意代码已经保存在了数据库，<br>4、不管何时何地何人查看这条留言，都会被执行恶意代码，除非数据库中删除这条恶意代码</p>
</blockquote>
</li>
</ul>
</li>
<li><p>DOM型XSS</p>
<ul>
<li>基于文档对象模型的漏洞，可以动态的构造DOM节点</li>
<li>不经过后端代码，直接构造恶意代码，即可在前端展示</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="测试流程"><a href="#测试流程" class="headerlink" title="测试流程"></a>测试流程</h4><ol>
<li>在目标站点上找到输入点, 比如查询接口, 留言板等</li>
<li>输入一组“特殊字符+唯一识别字符”，点击提交后,查看返回的源码，是否有做对应的处理</li>
<li>通过搜索定位到唯一字符，结合唯一字符前后语法确认是否可以构造执行js的条件(构造闭合);</li>
<li>提交构造的脚本代码(以及各种绕过姿势)，看是否可以成功执行，如果成功执行则说明存在XSS漏洞;</li>
</ol>
<h4 id="tips"><a href="#tips" class="headerlink" title="tips"></a>tips</h4><ol>
<li>一般查询接口容易出现反射型XSS，留言板容易出现存储型XSS</li>
<li>由于后台可能存在过滤措施,构造的script可能会被过滤掉，而无法生效,或者环境限制了执行(浏览器);</li>
<li>通过变化不同的script，尝试绕过后台过滤机制;</li>
</ol>
<h4 id="XSS绕过"><a href="#XSS绕过" class="headerlink" title="XSS绕过"></a>XSS绕过</h4><ul>
<li>转换<ul>
<li>大小写<code>&lt;ScRipT&gt;</code></li>
<li>拼凑<code>&lt;scr&lt;script&gt;ipt&gt;</code></li>
<li>注释<code>&lt;sc&lt;!--a--&gt;ript&gt;</code></li>
</ul>
</li>
<li>编码<ul>
<li>url编码</li>
<li>html编码</li>
</ul>
</li>
</ul>
<h2 id="SQL注入"><a href="#SQL注入" class="headerlink" title="SQL注入"></a>SQL注入</h2><h4 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h4><ul>
<li><p>攻击者可以通过合法输入点提交一些精心构造的语句, 从而欺骗后台数据库对其进行执行, 导致数据库信息泄露</p>
</li>
<li><p>例如:<br>正常输入: <code>1</code>, 执行<code>select password from users where id=1</code><br>非法输入:<code>1 or 1=1</code>, 执行<code>select password from users where id=1 or 1=1;</code><br>后者会输出表中的所有password</p>
</li>
</ul>
<h4 id="攻击流程"><a href="#攻击流程" class="headerlink" title="攻击流程"></a>攻击流程</h4><ol>
<li><p>注入点探测(自动&#x2F;手动)</p>
<ul>
<li>判断注入点类型</li>
<li>判断查询列数</li>
<li>判断显示位置</li>
</ul>
</li>
<li><p>信息获取</p>
<ul>
<li><p>获取所有数据库名</p>
<blockquote>
<p>一次性显示全部:group_concat(字段名)</p>
<p>逐一显示: limit</p>
</blockquote>
</li>
<li><p>获取某数据库所有表名</p>
</li>
<li><p>获取某库某表中所有字段名</p>
</li>
<li><p>获取字段的数据</p>
</li>
</ul>
</li>
<li><p>获取权限</p>
</li>
</ol>
<h4 id="注入点类型"><a href="#注入点类型" class="headerlink" title="注入点类型"></a>注入点类型</h4><ul>
<li>数字型</li>
<li>字符型: <code>&#39;xxx&#39;</code></li>
<li>搜索型: <code>%xxx%</code></li>
</ul>
<p><em>根据类型进行构造闭合</em></p>
<h4 id="基于union联合查询的信息获取"><a href="#基于union联合查询的信息获取" class="headerlink" title="基于union联合查询的信息获取"></a>基于union联合查询的信息获取</h4><ul>
<li>查询列数必须相同</li>
</ul>
<h4 id="判断查询列数"><a href="#判断查询列数" class="headerlink" title="判断查询列数"></a>判断查询列数</h4><ul>
<li>order by: 按照指定字段名进行排序</li>
</ul>
<h4 id="基于报错信息获取"><a href="#基于报错信息获取" class="headerlink" title="基于报错信息获取"></a>基于报错信息获取</h4><ul>
<li>使用一些指定的函数来制造报错, 从报错信息中获取特定的信息</li>
<li>背景条件: 后台没有屏蔽报错信息, 在语法发生错误时会输出在前端</li>
</ul>
<h5 id="报错函数"><a href="#报错函数" class="headerlink" title="报错函数"></a>报错函数</h5><ul>
<li><p><code>updatexml()</code></p>
<pre><code class="sql">updatexml(xml_document, XPathstring, new_value)
#第一个参数: 表中的字段名(字符串)
#第二个参数:Xpath格式的字符串
#String格式，替换查找到的符合条件的
</code></pre>
<p>**”XPath定位必须是有效的, 否则会发送错误”**可以利用这一点制造报错信</p>
<p>例如<code>updatexml(1,concat(0x7e,database(),0))</code>会产生报错信息, 其中有<code>database()</code>执行的结果</p>
</li>
<li><p><code>extractvalue()</code></p>
<pre><code class="sql">extractvalue(xml_document, xpath_string)
#同样通过xpath产生报错
</code></pre>
</li>
<li><p><code>floor()</code><br>取整函数, 示例:</p>
<pre><code class="sql">xxx&#39; and (select 2 from (select count(*),concat(user(),floor(rand(0)*2))x from information_schema.tables group by x)a)#
</code></pre>
</li>
</ul>
<h4 id="盲注"><a href="#盲注" class="headerlink" title="盲注"></a>盲注</h4><ul>
<li>后台屏蔽了报错信息, 无法根据报错进行注入的判断  </li>
<li>分类<ul>
<li>基于真假, 例:<code>vince&#39; and ascii(substr(database(),1,1))=112#</code></li>
<li>基于时间, 例:<code>vince&#39; and if((ascii(substr(database(),1,1)))=112,sleep(5),null)#</code></li>
</ul>
</li>
<li>通过<code>ascii(substr((xx语句), n, n))=x</code>判断</li>
</ul>
<h4 id="宽字节注入"><a href="#宽字节注入" class="headerlink" title="宽字节注入"></a>宽字节注入</h4><ul>
<li>后端对输入的内容进行了转义, <code>&#39;</code>转义为<code>\&#39;</code>使原本的payload<code>vince&#39; or 1=1 ;#</code>无法使用</li>
<li>由于mysql使用gbk编码, 单引号转义后编码为<code>%5c%27</code>, 如果在单引号前面输入%df使其变成<code>%df%5c%27</code>前面的<code>%df%5c</code>就会被解析为一个汉字, 单引号<code>%27</code>就成功逃逸了, 实现了闭合</li>
<li>payload修改为<code>vince%df&#39; or 1=1;#</code></li>
</ul>
<h4 id="SQLmap使用"><a href="#SQLmap使用" class="headerlink" title="SQLmap使用"></a>SQLmap使用</h4><p><a target="_blank" rel="noopener" href="https://sqlmap.highlight.ink/">文档介绍 - sqlmap 用户手册 (highlight.ink)</a></p>
<ol>
<li><pre><code>-u &quot;url&quot; --cookie=&quot;xxx&quot; //带上cookie对URL进行注入探测
</code></pre>
</li>
<li><pre><code>-u &quot;url&quot; --cookie=&quot;xxx&quot; --current-db //获取数据库名
</code></pre>
</li>
<li><pre><code>-u &quot;url&quot; --cookie=&quot;xxx&quot; -D xxx --tables //获取表名
</code></pre>
</li>
<li><pre><code>-u &quot;url&quot; --cookie=&quot;xxx&quot; -D xxx -T xxx --columns //获取列名
</code></pre>
</li>
<li><pre><code>-u &quot;url&quot; --cookie=&quot;xxx&quot; -D xxx -T xxx -C xxx yyy,zzz,xxx --dump //获取指定列的信息
</code></pre>
<p><em>tip</em>:<code>--start 1 --stop 10 (只获取前十列数据)</code></p>
</li>
</ol>
<h2 id="文件漏洞"><a href="#文件漏洞" class="headerlink" title="文件漏洞"></a>文件漏洞</h2><h4 id="任意文件读取与下载"><a href="#任意文件读取与下载" class="headerlink" title="任意文件读取与下载"></a>任意文件读取与下载</h4><h5 id="介绍-1"><a href="#介绍-1" class="headerlink" title="介绍"></a>介绍</h5><ul>
<li><p>当网站需要提供文件读取或文件下载功能，且对用户读取或下载的文件不做限制，则用户就能够恶意读取或下载任意敏感文件</p>
</li>
<li><p>例如:</p>
</li>
</ul>
<pre><code class="php">// 文件读取
&lt;?php
    $filename = $_GET[&#39;filename&#39;];
    if($filename)&#123;
        echo file_get_contents($filename);
    &#125;
?&gt;
</code></pre>
<pre><code class="php">// 文件下载
&lt;?php
    $filename = $_GET[&#39;filename&#39;];
    if(file_exists($filename))&#123;
        $file=fopen($filename,&quot;r&quot;);
        header(&quot;Content-Type: application/octet-stream&quot;);
        header(&quot;Accept-Ranges: bytes&quot;);
        header(&quot;Accept-Length: &quot;.filesize($filename));
        header(&quot;Content-Disposition: attachment; filename=&quot; . $filename);
        echo fread($file,filesize($filename));
        fclose($file);
    &#125;
?&gt;
</code></pre>
<h5 id="利用"><a href="#利用" class="headerlink" title="利用"></a>利用</h5><ul>
<li>获取常规的配置文件，如ssh,weblogic,ftp,mysql等相关配置</li>
<li>获取各种日志文件，从中寻找一些后台地址，文件上传点。甚至可能寻找到别人留下的后门</li>
<li>获取web业务文件进行白盒审计</li>
</ul>
<blockquote>
<h5 id="敏感信息"><a href="#敏感信息" class="headerlink" title="敏感信息"></a>敏感信息</h5><p>win:</p>
<pre><code>C:\boot.ini     查看系统版本 
C:\Windows\System32\inetsrv\MetaBase.xml    IIS配置文件 
C:\Windows\repair\sam       存储系统初次安装的密码 
C:\Program Files\mysql\my.ini       Mysql配置 
C:\Program Files\mysql\data\mysql\user.MYD   Mysql root 
C:\Windows\php.ini      php配置信息 
C:\Windows\my.ini       Mysql配置信息
</code></pre>
<p>linux:</p>
<pre><code>/root/.ssh/*
/etc/passwd 
/etc/shadow 
/etc/my.cnf     mysql配置文件
/etc/httpd/conf/httpd.conf  apache配置文件
/root/.bash_history     用户历史命令记录文件
/root/.mysql_history    mysql历史命令记录文件
/proc/self/fd/fd[0-9]*(文件标识符) 
/proc/mounts        记录系统挂载设备
/proc/config.gz     内核配置文件
/proc/self/cmdline  当前进程的cmdline参数
</code></pre>
</blockquote>
<h4 id="文件包含漏洞"><a href="#文件包含漏洞" class="headerlink" title="文件包含漏洞"></a>文件包含漏洞</h4><ul>
<li><p>当 <code>include</code>, <code>include_once</code>, <code>require</code>, <code>require_once</code> 包含一个文件时，这个文件被作为php代码执行</p>
</li>
<li><p>利用条件:</p>
<ul>
<li>网站对用户公开文件包含接口</li>
<li>文件包含接口未做验证或验证不严格</li>
</ul>
</li>
<li><p>例如:</p>
<pre><code class="php">&lt;?php
    $file = $_GET[&#39;file&#39;];
    if(file_exists($file))&#123;
        include($file);
    &#125;else&#123;
        include(&#39;header.php&#39;);
    &#125;
?&gt;
</code></pre>
</li>
</ul>
<h4 id="任意文件删除"><a href="#任意文件删除" class="headerlink" title="任意文件删除"></a>任意文件删除</h4><ul>
<li><p>当网站存在删除文件操作且其中某些关键字段用户可控时，可能导致用户恶意构造删除某些网站甚至系统文件</p>
</li>
<li><p>例如:</p>
<pre><code class="php">/** do delete */
if ($action == &#39;delete&#39;) &#123;
    $bakfile = trim($_GET[&#39;file&#39;]);
    $filepath = $DBak-&gt;datadir.$bakfile;

    if (unlink($filepath)) &#123;
        msgbox(&#39;文件删除成功！&#39;, $fileurl.&#39;?act=restore&#39;);
    &#125; else &#123;
        msgbox(&#39;文件删除失败！&#39;);
    &#125;
&#125;
</code></pre>
</li>
</ul>
<h4 id="文件上传漏洞"><a href="#文件上传漏洞" class="headerlink" title="文件上传漏洞"></a>文件上传漏洞</h4><h5 id="利用条件"><a href="#利用条件" class="headerlink" title="利用条件"></a>利用条件</h5><ul>
<li>存在文件上传操作</li>
<li>未对上传文件做校验</li>
<li>用户可直接或间接访问到上传的文件并可执行</li>
</ul>
<p>例如:</p>
<pre><code class="php">//DVWA
&lt;?php
if( isset( $_POST[ &#39;Upload&#39; ] ) ) &#123;
    $target_path  = DVWA_WEB_PAGE_TO_ROOT . &quot;hackable/uploads/&quot;;
    $target_path .= basename( $_FILES[ &#39;uploaded&#39; ][ &#39;name&#39; ] );

    if( !move_uploaded_file( $_FILES[ &#39;uploaded&#39; ][ &#39;tmp_name&#39; ], $target_path ) ) &#123;
        echo &#39;&lt;pre&gt;Your image was not uploaded.&lt;/pre&gt;&#39;;
    &#125;
    else &#123;
        echo &quot;&lt;pre&gt;&#123;$target_path&#125; succesfully uploaded!&lt;/pre&gt;&quot;;
    &#125;
&#125;
?&gt;
</code></pre>
<h2 id="命令执行漏洞"><a href="#命令执行漏洞" class="headerlink" title="命令执行漏洞"></a>命令执行漏洞</h2><ul>
<li>可以让攻击者总直接注入命令或恶意代码, 控制服务器后台</li>
</ul>
<h4 id="远程系统命令执行"><a href="#远程系统命令执行" class="headerlink" title="远程系统命令执行"></a>远程系统命令执行</h4><ul>
<li><p><strong>原理</strong>: 系统上存在给用户提供特点的远程命令操作的接口(如ping), 但是没有严格的安全控制措施</p>
</li>
<li><p>例如: </p>
<pre><code class="php">&lt;?php
    if (isset($_POST[&#39;host&#39;])) &#123;
        $host = $_POST[&#39;host&#39;];
        $res = shell_exec(&quot;ping -c 4 &#123;$host&#125;&quot;);
        echo $res;
    &#125;
?&gt;
</code></pre>
</li>
<li><p>此时如果输入<code>127.0.0.1; ipconfig</code>就会把后面的命令也执行</p>
</li>
</ul>
<h2 id="越权漏洞"><a href="#越权漏洞" class="headerlink" title="越权漏洞"></a>越权漏洞</h2><ul>
<li>由于没有对用户权限进行严格的判断, 导致低权限账号可以去完成高权限账号的操作</li>
<li>属于逻辑漏洞, 是由于权限校验的逻辑不够严谨</li>
<li>水平越权<ul>
<li>同等权限级别间</li>
<li>服务器后台可能没有对用户权限做严格的判断, 可能导致一个用户能够执行另一个用户的操作</li>
</ul>
</li>
<li>垂直越权<ul>
<li>不同权限级别间</li>
<li>先抓取超级管理员执行增加用户的数据包, 然后退出登录, 改为登录普通管理员的账号, 将获取到的数据包的请求头中的cookie替换为普通管理员的cookie, 在请求体中填入操作信息</li>
</ul>
</li>
</ul>
<h2 id="请求伪造"><a href="#请求伪造" class="headerlink" title="请求伪造"></a>请求伪造</h2><h4 id="跨站请求伪造CSRF"><a href="#跨站请求伪造CSRF" class="headerlink" title="跨站请求伪造CSRF"></a>跨站请求伪造CSRF</h4><ul>
<li>通过伪装来自受信任用户的请求来利用受信任的网站</li>
</ul>
<h5 id="确认是否存在CSRF漏洞"><a href="#确认是否存在CSRF漏洞" class="headerlink" title="确认是否存在CSRF漏洞"></a>确认是否存在CSRF漏洞</h5><ul>
<li>判断请求是否可以被伪造</li>
<li>确认凭证的有效期</li>
</ul>
<h5 id="Token如何防止CDRF"><a href="#Token如何防止CDRF" class="headerlink" title="Token如何防止CDRF"></a>Token如何防止CDRF</h5><ul>
<li>每次请求增加一个随机码, 后台每次对次进行验证</li>
</ul>
<h4 id="服务端请求伪造SSRF"><a href="#服务端请求伪造SSRF" class="headerlink" title="服务端请求伪造SSRF"></a>服务端请求伪造SSRF</h4><ul>
<li>由攻击者构造形成由服务端发起请求的一个安全漏洞。一般情况下，SSRF攻击的目标是从外网无法访问的内部系统</li>
</ul>
<p>数据流:攻击者—–&gt;服务器—-&gt;目标地址</p>
<h5 id="形成原因"><a href="#形成原因" class="headerlink" title="形成原因"></a>形成原因</h5><ul>
<li><p>服务端提供了从其他服务器应用获取数据的功能且没有对目标地址做过滤与限制。比如从指定URL地址获取网页文本内容，加载指定地址的图片，下载等等。</p>
<p>例如:</p>
<pre><code class="php">&lt;?php
    function curl($url)&#123;
        $ch = curl_init();
        curl_setopt($ch, CURLOPT_URL, $url);
        curl_setopt($ch, CURLOPT_HEADER, 0);
        curl_exec($ch);
        curl_close($ch);
&#125;
$url = $_GET[&#39;url&#39;];
curl($url);
?&gt;
</code></pre>
</li>
</ul>
<h2 id="会话管理漏洞"><a href="#会话管理漏洞" class="headerlink" title="会话管理漏洞"></a>会话管理漏洞</h2><h4 id="会话劫持"><a href="#会话劫持" class="headerlink" title="会话劫持"></a>会话劫持</h4><ul>
<li>获取用户Session ID后使用该Session ID进行伪装</li>
</ul>
<h5 id="攻击步骤"><a href="#攻击步骤" class="headerlink" title="攻击步骤"></a>攻击步骤</h5><ul>
<li><p>目标用户需要先登录站点</p>
</li>
<li><p>登录成功后，该用户会得到站点提供的一个会话标识SessionID</p>
</li>
<li><p>攻击者通过某种攻击手段捕获Session ID</p>
</li>
<li><p>攻击者通过捕获到的Session ID访问站点即可获得目标用户合法会话</p>
<p><em>#Session ID一般都设置在cookie中。</em></p>
</li>
</ul>
<h4 id="会话固定"><a href="#会话固定" class="headerlink" title="会话固定"></a>会话固定</h4><ul>
<li>诱骗受害者使用攻击者指定的会话标识</li>
</ul>
<h5 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h5><ul>
<li>访问网站时，网站会设置cookie中的session</li>
<li>当用户登录后，cookie中的session保持不变</li>
<li>只要获取登陆前的session内容，就可以知道登陆后的session</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="https://myprefer.github.io">Myperfer</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://myprefer.github.io/post/%E6%BC%8F%E6%B4%9E%E5%88%86%E7%B1%BB.html">https://myprefer.github.io/post/%E6%BC%8F%E6%B4%9E%E5%88%86%E7%B1%BB.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/">网络安全</a><a class="post-meta__tags" href="/tags/%E5%AD%A6%E4%B9%A0%E6%97%A5%E5%BF%97/">学习日志</a><a class="post-meta__tags" href="/tags/WEB%E6%94%BB%E9%98%B2/">WEB攻防</a><a class="post-meta__tags" href="/tags/%E6%BC%8F%E6%B4%9E%E5%88%86%E7%B1%BB/">漏洞分类</a></div><div class="post-share"><div class="social-share" data-image="/img/butterfly-icon.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/post/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1.html" title="代码审计"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">代码审计</div></div><div class="info-2"><div class="info-item-1">概念 由具备丰富的编码经验并对安全编码及应用安全工具有很深刻理解的安全服务人员根据一定的代码规范和标准，针对应用程序源代码，从结构，脆弱性以及缺陷等方面进行审查，最终输出代码审计报告，完善应用程序，提升自身安全水平。  步骤:  配置审计分析环境 熟悉业务流程 分析程序架构 工具自动化分析 人工审计结果 整理审计报告   思路 观察项目整体框架 项目文件目录结构 明确每个文件的作用功能   根据敏感关键字回溯参数传递过程 预定义的变量()$_GET $_POST $_COOKIE $_SERVER $_ENV $_SESSION等) 未初始化的变量(regist_globle=on) 变量覆盖 变量的传递存储(中转的变量) 文件包含(require，include,require_once,include_once&#96;) 代码执行(eval() assert()等) 命令执行(exec() shell_exec() system()等) SQL注入和XSS漏洞相关的关键字 SQL注入(select...</div></div></div></a><a class="pagination-related" href="/post/Pikachu%E9%9D%B6%E5%9C%BA%E5%AE%9E%E6%93%8D.html" title="Pikachu靶场实操"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">Pikachu靶场实操</div></div><div class="info-2"><div class="info-item-1">Pikachu靶场实操暴力破解概述连续性尝试+字典+自动化 字典 常用的账号密码 社工库 算法生成  暴力破解漏洞 是否要求复杂密码 是否使用安全的验证码 是否进行次数限制 是否采用双元素认证  验证码 防止登录暴力破解 防止机器恶意注册  测试流程 确认登录接口的脆弱性 比如:尝试登录–抓包–观察验证元素和response信息   对字典进行优化 根据注册提示信息进行优化 管理员   工具自动化操作  Pikachu关卡基于表单的暴力破解此关没有设置验证码等防范措施, 使用Brup Suite的Intruder功能, 如果response中没有username or password is not exists可以说明破解成功 步骤:  尝试手动提交表单, 使用brupsuite拦截 发送到Intruder, 关闭拦截, 配置好payload和字典, 开始进行破解(Cluster bomb) 对结果按照长度或有无username or password is not exists进行整理, 发现test&#x2F;abc123和admin&#x2F;123456可能是正确的,...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/post/WEB%E6%94%BB%E9%98%B2-%E7%89%B9%E6%80%A7%E6%BC%8F%E6%B4%9E.html" title="WEB攻防-特性漏洞"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-03-03</div><div class="info-item-2">WEB攻防-特性漏洞</div></div><div class="info-2"><div class="info-item-1">ASP安全 常用组合: windows+IIS+ASP+Access(sql server)  安全问题:MDB默认下载 access数据库文件后缀名一般为asp&#x2F;asa&#x2F;mdb 其中, 浏览器访问asp&#x2F;asa文件时, 文件会被解析执行, 访问mdb文件时会下载该文件 由此可以获取站点敏感数据  ASP后门植入连接 留言板写入一句话木马: ┼攠數畣整爠煥敵瑳∨≡┩愾   密码为a   原理: 网站开启了asp解析，直接访问数据库文件会返回信息，写入一句话木马后进行连接   IIS短文件名探针安全漏洞 原理:  Windows系统为了兼容16位MS-DOS程序，为文件名较长的文件和文件夹生成了对应的Windows...</div></div></div></a><a class="pagination-related" href="/post/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1.html" title="代码审计"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-02-14</div><div class="info-item-2">代码审计</div></div><div class="info-2"><div class="info-item-1">概念 由具备丰富的编码经验并对安全编码及应用安全工具有很深刻理解的安全服务人员根据一定的代码规范和标准，针对应用程序源代码，从结构，脆弱性以及缺陷等方面进行审查，最终输出代码审计报告，完善应用程序，提升自身安全水平。  步骤:  配置审计分析环境 熟悉业务流程 分析程序架构 工具自动化分析 人工审计结果 整理审计报告   思路 观察项目整体框架 项目文件目录结构 明确每个文件的作用功能   根据敏感关键字回溯参数传递过程 预定义的变量()$_GET $_POST $_COOKIE $_SERVER $_ENV $_SESSION等) 未初始化的变量(regist_globle=on) 变量覆盖 变量的传递存储(中转的变量) 文件包含(require，include,require_once,include_once&#96;) 代码执行(eval() assert()等) 命令执行(exec() shell_exec() system()等) SQL注入和XSS漏洞相关的关键字 SQL注入(select...</div></div></div></a><a class="pagination-related" href="/post/HTTP%E5%8D%8F%E8%AE%AE%E8%AF%B7%E6%B1%82%E7%BB%93%E6%9E%84.html" title="HTTP协议请求结构"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-01-27</div><div class="info-item-2">HTTP协议请求结构</div></div><div class="info-2"><div class="info-item-1">HTTP协议 HTTP: Hypertext Transfer Protocol 作用: 是一种用于传输超文本的协议。 是客户端和服务器之间进行通信的基础，常用于在Web浏览器和Web服务器之间传输数据。 客户端与服务端之间通过交换一个个独立的消息进行通信, 客户端发出的称为请求, 服务端发出的应答消息称为响应    HTTP请求的基本结构示例: POST /api/login HTTP/1.1  Host: example.com User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36 Content-Type: application/json  &#123;&quot;username&quot;: &quot;user123&quot;, &quot;password&quot;: &quot;pass456&quot;&#125;   请求行（Request...</div></div></div></a><a class="pagination-related" href="/post/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80.html" title="MySQL数据库基础"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-01-28</div><div class="info-item-2">MySQL数据库基础</div></div><div class="info-2"><div class="info-item-1">数据库基本操作MySQL登录&#x2F;退出 登录: mysql -u root -p 或mysql -u root -p -P 3306 -h 127.0.0.1指定IP和端口, 远程连接数据库  退出: exit, quit, \q   一些解释 数据库就相当于文件夹 表就相当于文件 SQL对大小写不敏感 SQL语句末端必须使用分号  注释# 注释1 -- 注释2 /* 注释3 */  MySQL数据类型Text(文本)类型   数据类型 描述    CHAR(size) 保存固定长度的字符串。最多 255 个字符。   VARCHAR(size) 保存可变长度的字符串。最多 255 个字符。注释：如果值的长度大于 255，则被转换为 TEXT 类型。   TINYTEXT 存放最大长度为 255 个字符的字符串。   TEXT 存放最大长度为 65,535 个字符的字符串。   MEDIUMTEXT 存放最大长度为 16,777,215 个字符的字符串。   LONGTEXT 存放最大长度为 4,294,967,295 个字符的字符串。   BLOB 用于...</div></div></div></a><a class="pagination-related" href="/post/PHP%E5%BC%80%E5%8F%91.html" title="PHP开发"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-02-28</div><div class="info-item-2">PHP开发</div></div><div class="info-2"><div class="info-item-1">文件操作文件上传&lt;form action=&quot;&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;     &lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;     &lt;input type=&quot;file&quot; name=&quot;upload&quot; multiple=&quot;multiple&quot;&gt;     &lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt; &lt;/form&gt; &lt;?php if ($_FILES) &#123;     $name = $_FILES[&#39;upload&#39;][&#39;name&#39;];     $tmp_name = $_FILES[&#39;upload&#39;][&#39;tmp_name&#39;];      if...</div></div></div></a><a class="pagination-related" href="/post/Pikachu%E9%9D%B6%E5%9C%BA%E5%AE%9E%E6%93%8D.html" title="Pikachu靶场实操"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-02-04</div><div class="info-item-2">Pikachu靶场实操</div></div><div class="info-2"><div class="info-item-1">Pikachu靶场实操暴力破解概述连续性尝试+字典+自动化 字典 常用的账号密码 社工库 算法生成  暴力破解漏洞 是否要求复杂密码 是否使用安全的验证码 是否进行次数限制 是否采用双元素认证  验证码 防止登录暴力破解 防止机器恶意注册  测试流程 确认登录接口的脆弱性 比如:尝试登录–抓包–观察验证元素和response信息   对字典进行优化 根据注册提示信息进行优化 管理员   工具自动化操作  Pikachu关卡基于表单的暴力破解此关没有设置验证码等防范措施, 使用Brup Suite的Intruder功能, 如果response中没有username or password is not exists可以说明破解成功 步骤:  尝试手动提交表单, 使用brupsuite拦截 发送到Intruder, 关闭拦截, 配置好payload和字典, 开始进行破解(Cluster bomb) 对结果按照长度或有无username or password is not exists进行整理, 发现test&#x2F;abc123和admin&#x2F;123456可能是正确的,...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/butterfly-icon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Myperfer</div><div class="author-info-description">By Myprefer</div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">45</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">19</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3%E6%BC%8F%E6%B4%9E"><span class="toc-number">1.</span> <span class="toc-text">暴力破解漏洞</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B"><span class="toc-number">1.0.0.1.</span> <span class="toc-text">流程</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XSS%E8%B7%A8%E7%AB%99%E8%84%9A%E6%9C%AC"><span class="toc-number">2.</span> <span class="toc-text">XSS跨站脚本</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">2.1.</span> <span class="toc-text">介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E6%B5%81%E7%A8%8B"><span class="toc-number">2.1.1.</span> <span class="toc-text">测试流程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#tips"><span class="toc-number">2.1.2.</span> <span class="toc-text">tips</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#XSS%E7%BB%95%E8%BF%87"><span class="toc-number">2.1.3.</span> <span class="toc-text">XSS绕过</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL%E6%B3%A8%E5%85%A5"><span class="toc-number">3.</span> <span class="toc-text">SQL注入</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">3.0.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%94%BB%E5%87%BB%E6%B5%81%E7%A8%8B"><span class="toc-number">3.0.2.</span> <span class="toc-text">攻击流程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E5%85%A5%E7%82%B9%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.0.3.</span> <span class="toc-text">注入点类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8Eunion%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2%E7%9A%84%E4%BF%A1%E6%81%AF%E8%8E%B7%E5%8F%96"><span class="toc-number">3.0.4.</span> <span class="toc-text">基于union联合查询的信息获取</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E6%9F%A5%E8%AF%A2%E5%88%97%E6%95%B0"><span class="toc-number">3.0.5.</span> <span class="toc-text">判断查询列数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E6%8A%A5%E9%94%99%E4%BF%A1%E6%81%AF%E8%8E%B7%E5%8F%96"><span class="toc-number">3.0.6.</span> <span class="toc-text">基于报错信息获取</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8A%A5%E9%94%99%E5%87%BD%E6%95%B0"><span class="toc-number">3.0.6.1.</span> <span class="toc-text">报错函数</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%B2%E6%B3%A8"><span class="toc-number">3.0.7.</span> <span class="toc-text">盲注</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%BD%E5%AD%97%E8%8A%82%E6%B3%A8%E5%85%A5"><span class="toc-number">3.0.8.</span> <span class="toc-text">宽字节注入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SQLmap%E4%BD%BF%E7%94%A8"><span class="toc-number">3.0.9.</span> <span class="toc-text">SQLmap使用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%BC%8F%E6%B4%9E"><span class="toc-number">4.</span> <span class="toc-text">文件漏洞</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96%E4%B8%8E%E4%B8%8B%E8%BD%BD"><span class="toc-number">4.0.1.</span> <span class="toc-text">任意文件读取与下载</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D-1"><span class="toc-number">4.0.1.1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%A9%E7%94%A8"><span class="toc-number">4.0.1.2.</span> <span class="toc-text">利用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%8F%E6%84%9F%E4%BF%A1%E6%81%AF"><span class="toc-number">4.0.1.3.</span> <span class="toc-text">敏感信息</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E6%BC%8F%E6%B4%9E"><span class="toc-number">4.0.2.</span> <span class="toc-text">文件包含漏洞</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E5%88%A0%E9%99%A4"><span class="toc-number">4.0.3.</span> <span class="toc-text">任意文件删除</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E"><span class="toc-number">4.0.4.</span> <span class="toc-text">文件上传漏洞</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E6%9D%A1%E4%BB%B6"><span class="toc-number">4.0.4.1.</span> <span class="toc-text">利用条件</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E"><span class="toc-number">5.</span> <span class="toc-text">命令执行漏洞</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9C%E7%A8%8B%E7%B3%BB%E7%BB%9F%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C"><span class="toc-number">5.0.1.</span> <span class="toc-text">远程系统命令执行</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B6%8A%E6%9D%83%E6%BC%8F%E6%B4%9E"><span class="toc-number">6.</span> <span class="toc-text">越权漏洞</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E4%BC%AA%E9%80%A0"><span class="toc-number">7.</span> <span class="toc-text">请求伪造</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%A8%E7%AB%99%E8%AF%B7%E6%B1%82%E4%BC%AA%E9%80%A0CSRF"><span class="toc-number">7.0.1.</span> <span class="toc-text">跨站请求伪造CSRF</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%A1%AE%E8%AE%A4%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8CSRF%E6%BC%8F%E6%B4%9E"><span class="toc-number">7.0.1.1.</span> <span class="toc-text">确认是否存在CSRF漏洞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Token%E5%A6%82%E4%BD%95%E9%98%B2%E6%AD%A2CDRF"><span class="toc-number">7.0.1.2.</span> <span class="toc-text">Token如何防止CDRF</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%AB%AF%E8%AF%B7%E6%B1%82%E4%BC%AA%E9%80%A0SSRF"><span class="toc-number">7.0.2.</span> <span class="toc-text">服务端请求伪造SSRF</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BD%A2%E6%88%90%E5%8E%9F%E5%9B%A0"><span class="toc-number">7.0.2.1.</span> <span class="toc-text">形成原因</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%9A%E8%AF%9D%E7%AE%A1%E7%90%86%E6%BC%8F%E6%B4%9E"><span class="toc-number">8.</span> <span class="toc-text">会话管理漏洞</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%9A%E8%AF%9D%E5%8A%AB%E6%8C%81"><span class="toc-number">8.0.1.</span> <span class="toc-text">会话劫持</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%94%BB%E5%87%BB%E6%AD%A5%E9%AA%A4"><span class="toc-number">8.0.1.1.</span> <span class="toc-text">攻击步骤</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%9A%E8%AF%9D%E5%9B%BA%E5%AE%9A"><span class="toc-number">8.0.2.</span> <span class="toc-text">会话固定</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8E%9F%E7%90%86"><span class="toc-number">8.0.2.1.</span> <span class="toc-text">原理</span></a></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/FastAPI%E9%A1%B9%E7%9B%AE-%E4%BB%8E%E6%9E%84%E5%BB%BA%E5%88%B0%E9%83%A8%E7%BD%B2.html" title="FastAPI项目 从构建到部署">FastAPI项目 从构建到部署</a><time datetime="2024-09-24T09:31:51.000Z" title="Created 2024-09-24 17:31:51">2024-09-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/ML-%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80.html" title="ML 理论基础">ML 理论基础</a><time datetime="2024-09-07T16:31:52.000Z" title="Created 2024-09-08 00:31:52">2024-09-08</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/ML-%E7%8E%B0%E4%BB%A3%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C.html" title="ML 现代卷积神经网络">ML 现代卷积神经网络</a><time datetime="2024-08-20T12:35:28.000Z" title="Created 2024-08-20 20:35:28">2024-08-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/ML-%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C.html" title="ML 卷积神经网络">ML 卷积神经网络</a><time datetime="2024-08-13T15:50:25.000Z" title="Created 2024-08-13 23:50:25">2024-08-13</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/ML-%E6%A8%A1%E5%9E%8B%E9%80%89%E6%8B%A9.html" title="ML 模型选择">ML 模型选择</a><time datetime="2024-08-11T14:33:31.000Z" title="Created 2024-08-11 22:33:31">2024-08-11</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2025 By Myperfer</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>